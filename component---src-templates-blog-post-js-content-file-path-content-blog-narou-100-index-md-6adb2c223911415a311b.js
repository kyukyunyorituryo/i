"use strict";(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[398],{6106:function(e,t,n){n.r(t),n.d(t,{Head:function(){return v},default:function(){return h}});var l=n(1151),a=n(7294),r=(n(3713),n(7627));function o(e){const t=Object.assign({p:"p",span:"span",h3:"h3"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(t.p,null,"　現状１００話未満なら正常にダウンロードする。１００より後は認識しない。２ページ目以降の目次をドラッグアンドドロップすると１００話より後もダウンロードできるが上書きされてしまう。"),"\n",a.createElement(t.p,null,"１００話以上ある小説の場合にページネーションが追加されて分割されるようだ。\r\nnovelview_pager-boxのaタグ内のクラスnovelview_pager-next　リンク先が?p=2で末尾の数字ページ番号である。\r\n最後のページの場合には　novelview_pager-nextのクラスがspanタグになっている。"),"\n",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">document.getElementsByClassName("novelview_pager-next").length==0\r\nの場合は目次なし\r\ndocument.getElementsByClassName("novelview_pager-next")[0].tagName==\'A\'\r\nの場合に次のページがあり\r\ndocument.getElementsByClassName("novelview_pager-next")[0].href\r\nを取得する末尾に　?p=2　が追加される　\r\ndocument.getElementsByClassName("novelview_pager-next")[0].tagName==\'SPAN\'\r\nの場合最終ページ</code></pre></div>'}}),"\n",a.createElement(t.p,null,"トップページ読み込み２ページ目へのリンクがある場合には２ページ目を読み込みに行く。２ページ目更新の更新情報と各話へのリンクに追加する。これを最終ページまで繰り返す。"),"\n",a.createElement(t.p,null,"HREF"),"\n",a.createElement(t.p,null,"SUB_UPDATE"),"\n",a.createElement(t.p,null,"CONTENT_UPDATE_LIST"),"\n",a.createElement(t.p,null,"サイトを読み込んで処理をするときに、"),"\n",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">各ページのclass="index_box"を取得して中身を連結\r\ndocument.getElementsByClassName("index_box")[0].children</code></pre></div>'}}),"\n",a.createElement(t.p,null,"jsoupのdom操作がJSとだいぶ違うのでマニュアル見ながらじゃないとできない。"),"\n",a.createElement(r.Z,{src:"https://jsoup.org/cookbook/extracting-data/dom-navigation",title:""}),"\n",a.createElement(t.p,null,"jsoupでノードのコピー"),"\n",a.createElement(t.p,null,"[https://www.tabnine.com/code/java/methods/org.jsoup.nodes.Document/appendChild]"),"\n",a.createElement(r.Z,{src:"https://stackoverflow.com/questions/48671687/pagination-in-web-scraping-using-jsoup-in-java-swing",title:""}),"\n",a.createElement(t.p,null,"extract.txtから設定を読み込むために設定内容を考える。"),"\n",a.createElement(t.p,null,"ページャーの上限　PagerMax 100\r\n目次のクラスネーム　index .index_box:0\r\nリンクのクラスネーム　NEXTPAGE .novelview_pager-next"),"\n",a.createElement(t.h3,null,"ページネーション読み込み機能をつけてみた"),"\n",a.createElement(r.Z,{src:"https://github.com/kyukyunyorituryo/AozoraEpub3/releases/tag/v1.1.1b21Q",title:""}),"\n",a.createElement(t.p,null,"バグが出ても対応できる人向け web/ncode.syosetu.com/extract.txt内の\r\n#NEXTPAGE の#を外すとページネーションが有効化される"))}var s=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,l.ah)(),e.components);return t?a.createElement(t,e,a.createElement(o,e)):o(e)},c=n(1883),i=n(8771),m=n(8678),p=n(9357),u=n(4143),g=n(1804),E=n.n(g);const d=e=>{var t;let{data:{previous:n,next:l,site:r,mdx:o},location:s,children:p}=e;const g=(null===(t=r.siteMetadata)||void 0===t?void 0:t.title)||"Title",d=o.frontmatter.tags;return a.createElement(m.Z,{location:s,title:g},a.createElement("article",{className:"blog-post",itemScope:!0,itemType:"http://schema.org/Article"},a.createElement("header",null,a.createElement("h1",{itemProp:"headline"},o.frontmatter.title),a.createElement("p",null,o.frontmatter.date,"　",d&&d.length>0&&d.map((e=>a.createElement(c.Link,{to:"/tags/"+E()(e)+"/",itemProp:"url"},a.createElement("button",null,e)))))),a.createElement("section",{itemProp:"articleBody"},p),a.createElement("hr"),a.createElement(u.Z,{title:o.frontmatter.title,url:""+r.siteMetadata.siteUrl+o.fields.slug}),a.createElement("footer",null,a.createElement(i.Z))),a.createElement("nav",{className:"blog-post-nav"},a.createElement("ul",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",listStyle:"none",padding:0}},a.createElement("li",null,n&&a.createElement(c.Link,{to:n.fields.slug,rel:"prev"},"← ",n.frontmatter.title)),a.createElement("li",null,l&&a.createElement(c.Link,{to:l.fields.slug,rel:"next"},l.frontmatter.title," →")))))},v=e=>{let{data:{mdx:t}}=e;return a.createElement(p.Z,{title:t.frontmatter.title,description:t.frontmatter.description||t.excerpt,ogpimage:t.frontmatter.ogpimage})};function h(e){return a.createElement(d,e,a.createElement(s,e))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-content-file-path-content-blog-narou-100-index-md-6adb2c223911415a311b.js.map